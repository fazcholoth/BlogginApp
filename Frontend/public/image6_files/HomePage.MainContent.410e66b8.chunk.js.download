(self.webpackChunklite=self.webpackChunklite||[]).push([[9690],{75412:(e,n,i)=>{"use strict";i.d(n,{A:()=>r});var t=i(23564),a=i(45697),l=i(64718);function r(e){var n=e.children,i=e.query,a=(0,t._T)(e,["children","query"]),r=(0,l.a)(i,a);return r?n(r):null}r.propTypes={client:a.object,children:a.func.isRequired,fetchPolicy:a.string,notifyOnNetworkStatusChange:a.bool,onCompleted:a.func,onError:a.func,pollInterval:a.number,query:a.object.isRequired,variables:a.object,ssr:a.bool,partialRefetch:a.bool,returnPartialData:a.bool}},69100:(e,n,i)=>{var t=i(99489),a=i(57067);function l(n,i,r){return a()?e.exports=l=Reflect.construct:e.exports=l=function(e,n,i){var a=[null];a.push.apply(a,n);var l=new(Function.bind.apply(e,a));return i&&t(l,i.prototype),l},l.apply(null,arguments)}e.exports=l},70430:e=>{e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},57067:e=>{e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},65957:(e,n,i)=>{var t=i(29754),a=i(99489),l=i(70430),r=i(69100);function o(n){var i="function"==typeof Map?new Map:void 0;return e.exports=o=function(e){if(null===e||!l(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,n)}function n(){return r(e,arguments,t(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},o(n)}e.exports=o},53003:(e,n,i)=>{"use strict";i.d(n,{Z:()=>r});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var l=t.createElement("path",{d:"M9 9H3v1h6v6h1v-6h6V9h-6V3H9v6z",fillRule:"evenodd"});const r=function(e){return t.createElement("svg",a({width:19,height:19},e),l)}},47443:(e,n,i)=>{var t=i(42118);e.exports=function(e,n){return!(null==e||!e.length)&&t(e,n,0)>-1}},1196:e=>{e.exports=function(e,n,i){for(var t=-1,a=null==e?0:e.length;++t<a;)if(i(n,e[t]))return!0;return!1}},41848:e=>{e.exports=function(e,n,i,t){for(var a=e.length,l=i+(t?1:-1);t?l--:++l<a;)if(n(e[l],l,e))return l;return-1}},42118:(e,n,i)=>{var t=i(41848),a=i(62722),l=i(42351);e.exports=function(e,n,i){return n==n?l(e,n,i):t(e,a,i)}},62722:e=>{e.exports=function(e){return e!=e}},45652:(e,n,i)=>{var t=i(88668),a=i(47443),l=i(1196),r=i(74757),o=i(23593),d=i(21814);e.exports=function(e,n,i){var u=-1,c=a,m=e.length,s=!0,k=[],v=k;if(i)s=!1,c=l;else if(m>=200){var p=n?null:o(e);if(p)return d(p);s=!1,c=r,v=new t}else v=n?[]:k;e:for(;++u<m;){var f=e[u],g=n?n(f):f;if(f=i||0!==f?f:0,s&&g==g){for(var S=v.length;S--;)if(v[S]===g)continue e;n&&v.push(g),k.push(f)}else c(v,g,i)||(v!==k&&v.push(g),k.push(f))}return k}},23593:(e,n,i)=>{var t=i(58525),a=i(50308),l=i(21814),r=t&&1/l(new t([,-0]))[1]==1/0?function(e){return new t(e)}:a;e.exports=r},42351:e=>{e.exports=function(e,n,i){for(var t=i-1,a=e.length;++t<a;)if(e[t]===n)return t;return-1}},50308:e=>{e.exports=function(){}},45578:(e,n,i)=>{var t=i(67206),a=i(45652);e.exports=function(e,n){return e&&e.length?a(e,t(n,2)):[]}},95399:(e,n,i)=>{"use strict";i.r(n),i.d(n,{MainContent:()=>Ce,useLoader:()=>we});var t=i(63038),a=i.n(t),l=i(64718),r=i(67294),o=i(60672),d=i(28069),u=i(38194),c=i(68356),m=i.n(c),s=i(50742),k=m()({loading:function(){return null},loader:function(){return i.e(9128).then(i.bind(i,32378))},modules:["./RedeemGiftMembershipModal"],webpack:function(){return[32378]},render:(0,s.n)("RedeemGiftMembershipModal")}),v=i(98107),p=i(1180),f=i(96370),g=i(77355),S=i(18627),N=i(64529),h=i(66411),F=i(68894),b=i(5977),y=new(i(28959).Z)("page-refresh"),E="pageUnloadTime",w=r.createContext({onPageQueryCompleted:function(){return null},pageRefreshed:!1}),x=function(e){var n=e.children,t=(new Date).getTime(),l=r.useState(!!y.get(E)&&t-y.get(E)<5e3),o=a()(l,1)[0];return r.useEffect((function(){var e=function(){y.set(E,(new Date).getTime())};return i.g.window.addEventListener("beforeunload",e),function(){i.g.window.removeEventListener("beforeunload",e),y.remove(E)}}),[]),r.createElement(w.Provider,{value:{onPageQueryCompleted:function(){y.remove(E)},pageRefreshed:o}},n)},C=i(42140),T=i(319),R=i.n(T),I=i(59250),P=i(87757),D=i.n(P),A=i(48926),M=i.n(A),_=i(52998),V=i(47230),O=i(87691),H=i(92661);function B(){return(B=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var z=r.createElement("path",{d:"M12 1.14A10.86 10.86 0 1 0 22.86 12a.84.84 0 0 0-1.67 0A9.18 9.18 0 1 1 4.04 7.4a9.18 9.18 0 0 1 12.55-3.36.84.84 0 0 0 .84-1.44A10.85 10.85 0 0 0 12 1.14zm9.7 2.79a.84.84 0 0 0-.56.26c-2.93 3.07-5.76 6.38-8.64 9.43L8.38 10a.87.87 0 0 0-1.18.07.87.87 0 0 0 .07 1.19L12 15.43a.87.87 0 0 0 1.16-.06c3.11-3.26 6.12-6.81 9.18-10.02.57-.62.06-1.44-.63-1.42z",fill:"#292929"});const L=function(e){return r.createElement("svg",B({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),z)};var U=function(e){var n=e.CTAReason,i=(0,H.uk)();return r.createElement(g.x,{padding:"30px 0",textAlign:"center"},r.createElement(g.x,{marginBottom:"24px"},r.createElement(O.F,{scale:"M",color:"DARKER"},"EmptyFeed"===n?"Stories from the writers you follow will appear here.":r.createElement(q,null))),r.createElement(V.zx,{onClick:function(){window.scrollTo(0,0)},href:i("ShowHome",{}),buttonStyle:"STRONG"},"Browse recommended stories"))},q=function(){return r.createElement(g.x,null,r.createElement(g.x,{marginBottom:"8px"},r.createElement(L,null)),r.createElement("p",null,"You're all caught up"))},j=i(14813),G=i(27915),Q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowingFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followingFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HomeFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"moduleSourceEncoding"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"to"}},{kind:"Field",name:{kind:"Name",value:"from"}},{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"source"}}]}}]}}]}}]}}].concat(R()(G.C.definitions))};function W(e){var n=e.items,i=e.pageSize,t=e.initialPageSize,l=e.fetchMore,o=r.useState(null!=t?t:i),d=a()(o,2),u=d[0],c=d[1];return[r.useMemo((function(){return n.slice(0,u)}),[n.length,u]),r.useCallback((function(){return c(u+i),n.length<u+i?l():new Promise((function(e){window.requestAnimationFrame((function(){e()}))}))}),[n.length,i,u,l])]}var Z,$,K=function(e){var n,i,t,o,d=e.initiallyRenderFullFeed,u=r.useContext(w).onPageQueryCompleted,c=(0,l.a)(Q,{variables:{paging:{limit:5}},ssr:!1,onCompleted:u}),m=c.loading,s=c.error,k=c.data,v=c.fetchMore,S=(0,I.jM)(),N=S.mutedAuthorIds,F=S.mutedPubIds,b=S.dismissedPostIds,y=S.seeLessPostIds,E=!(null!=k&&null!==(n=k.followingFeed)&&void 0!==n&&null!==(i=n.pagingInfo)&&void 0!==i&&i.next),x=null==k?void 0:k.followingFeed,C=r.useCallback(M()(D().mark((function e(){var n,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null==x||null===(n=x.pagingInfo)||void 0===n?void 0:n.next){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",v({variables:{paging:{to:i.to,limit:i.limit,from:i.from,source:i.source}}}));case 4:case"end":return e.stop()}}),e)}))),[null==x||null===(t=x.pagingInfo)||void 0===t?void 0:t.next]),T=null!==(o=null==x?void 0:x.items.length)&&void 0!==o?o:0,R=d?Math.max(T,5):5,P=W({items:(null==x?void 0:x.items.filter((function(e){return"HomeFeedItem"===(null==e?void 0:e.__typename)})))||[],pageSize:5,initialPageSize:R,fetchMore:C}),A=a()(P,2),V=A[0],O=A[1];if(s)return null;if(m)return r.createElement(f.P,{size:"app"},r.createElement(p.u,null));var H=(0,I.MA)(V,N,F,b,y);return H.length?r.createElement(g.x,null,r.createElement(j.P,{fetchMore:E?null:O},r.createElement(g.x,null,H.map((function(e,n){var i=null==e?void 0:e.post;return r.createElement(r.Fragment,{key:i.id},r.createElement(h.cW,{source:{name:"home",feedId:e.feedId||void 0,postFeedReason:e.reason||void 0,rankedModuleType:e.moduleSourceEncoding||void 0},extendSource:!0},r.createElement(_.G,{index:n,post:i,isFirst:!n,showBylinePublisherInfo:!0,includeTopDivider:!0,showNegativeSignalMenu:!0,showNegativeSignalIcon:!1})))})))),E&&r.createElement(U,{CTAReason:"EndOfFeed"})):r.createElement(U,{CTAReason:"EmptyFeed"})},Y=i(45578),J=i.n(Y),X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebInlineRecommendedFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"forceRank"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"webRecommendedFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}},{kind:"Argument",name:{kind:"Name",value:"forceRank"},value:{kind:"Variable",name:{kind:"Name",value:"forceRank"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HomeFeedItem_metadata"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}},{kind:"Field",name:{kind:"Name",value:"source"}}]}}]}}]}}]}}].concat(R()([{kind:"FragmentDefinition",name:{kind:"Name",value:"HomeFeedItem_metadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HomeFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"moduleSourceEncoding"}},{kind:"Field",name:{kind:"Name",value:"reasonString"}},{kind:"Field",name:{kind:"Name",value:"postProviderExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"topic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]),R()(G.C.definitions))},ee=function(e){var n,i,t,o=e.initiallyRenderFullFeed,u=r.useContext(w),c=u.onPageQueryCompleted,m=u.pageRefreshed,s=(0,l.a)(X,{ssr:!1,variables:{forceRank:m,paging:{limit:5}},onCompleted:c}),k=s.loading,v=s.error,p=s.data,f=s.fetchMore,S=(0,I.jM)(),N=S.mutedAuthorIds,F=S.mutedPubIds,b=S.dismissedPostIds,y=S.seeLessPostIds,E=null==p?void 0:p.webRecommendedFeed,x=null==E||null===(n=E.pagingInfo)||void 0===n?void 0:n.next,C=x&&"0"!==x.to,T=r.useCallback(M()(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",f({variables:{paging:{to:x.to,limit:x.limit,source:x.source},forceRank:!1}}));case 3:case"end":return e.stop()}}),e)}))),[null==x?void 0:x.to,C]),R=null!==(i=null==E?void 0:E.items.length)&&void 0!==i?i:0,P=o?Math.max(R,5):5,A=W({items:null!==(t=null==E?void 0:E.items)&&void 0!==t?t:[],pageSize:5,initialPageSize:P,fetchMore:T}),V=a()(A,2),O=V[0],H=V[1];(0,d.r$)(k);var B=(0,r.useMemo)((function(){var e=J()(O,(function(e){var n;return null==e||null===(n=e.post)||void 0===n?void 0:n.id}));return(0,I.MA)(e,N,F,b,y)}),[O.length,N,F,b,y]);return k||v?null:r.createElement(g.x,null,r.createElement(j.P,{fetchMore:C?H:void 0},r.createElement(g.x,null,B.map((function(e,n){var i=null==e?void 0:e.post;return i?r.createElement(h.cW,{source:{name:"explore",feedId:e.feedId||void 0,postFeedReason:e.reason||void 0,rankedModuleType:e.moduleSourceEncoding||void 0},extendSource:!0,key:i.id},r.createElement(_.G,{index:n,post:i,isFirst:!n,highDensityPreviewReason:(null==e?void 0:e.reasonString)||void 0,showBylinePublisherInfo:!0,includeTopDivider:!0,showNegativeSignalMenu:!0})):null})))))},ne=i(77280),ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebInlineTopicFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skipCache"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"personalisedTagFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagSlug"},value:{kind:"Variable",name:{kind:"Name",value:"tagSlug"}}},{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}},{kind:"Argument",name:{kind:"Name",value:"skipCache"},value:{kind:"Variable",name:{kind:"Name",value:"skipCache"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TagFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"moduleSourceEncoding"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"}},{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"from"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}}]}}]}}].concat(R()(G.C.definitions))},te=function(e){var n,i,t,o,d=e.initiallyRenderFullFeed,u=e.tagSlug,c=r.useContext(w),m=c.onPageQueryCompleted,s=c.pageRefreshed,k=(0,ne.PM)(),v=(0,l.a)(ie,{ssr:!1,variables:{tagSlug:u,paging:{limit:5},skipCache:s},onCompleted:m}),S=v.loading,N=v.error,F=v.data,b=v.fetchMore,y=(0,I.jM)(),E=y.mutedAuthorIds,x=y.mutedPubIds,C=y.dismissedPostIds,T=y.seeLessPostIds,R=null==F?void 0:F.personalisedTagFeed,P=!(null!=R&&null!==(n=R.pagingInfo)&&void 0!==n&&n.next),A=r.useCallback(M()(D().mark((function e(){var n,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=null==R||null===(n=R.pagingInfo)||void 0===n?void 0:n.next)&&"0"!==i.to){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",b({variables:{paging:{to:i.to,from:i.from,limit:i.limit,source:i.source}}}));case 4:case"end":return e.stop()}}),e)}))),[null==R||null===(i=R.pagingInfo)||void 0===i?void 0:i.next,b]),V=null!==(t=null==R?void 0:R.items.length)&&void 0!==t?t:0,O=d?Math.max(V,5):5,H=W({items:null!==(o=null==R?void 0:R.items)&&void 0!==o?o:[],pageSize:5,initialPageSize:O,fetchMore:A}),B=a()(H,2),z=B[0],L=B[1],q=J()(z,(function(e){var n;return null==e||null===(n=e.post)||void 0===n?void 0:n.id}));if(N)return null;if(S)return r.createElement(f.P,{size:"app"},r.createElement(p.u,null));var G=(0,I.MA)(q,E,x,C,T);return G.length?r.createElement(g.x,null,r.createElement(j.P,{fetchMore:P?null:L},G.map((function(e,n){var i=null==e?void 0:e.post;return r.createElement(r.Fragment,{key:i.id},r.createElement(h.cW,{source:{name:"home_tag_tab",index:n,feedId:e.feedId||void 0,rankedModuleType:e.moduleSourceEncoding||void 0,postFeedReason:e.reason||void 0,sectionType:h.bA.HOMEPAGE_FILTERED_TAG,topicId:u},extendSource:!0},r.createElement(_.G,{index:n,post:i,isFirst:!n,showBylinePublisherInfo:!0,includeTopDivider:!0,showNegativeSignalMenu:!0,tagSlug:u,presentationTrackerReferrerSource:k})))}))),P&&r.createElement(U,{CTAReason:"EndOfFeed"})):r.createElement(U,{CTAReason:"EmptyFeed"})};!function(e){e.Following="Following",e.Recommended="Recommended"}(Z||(Z={})),function(e){e.DefaultFeed="feed",e.Tag="tag"}($||($={}));var ae=function(e){var n,i=e.activeFeed,t=e.initiallyRenderFullFeed;return n=i===Z.Following?r.createElement(K,{initiallyRenderFullFeed:t}):i===Z.Recommended?r.createElement(ee,{initiallyRenderFullFeed:t}):r.createElement(te,{initiallyRenderFullFeed:t,tagSlug:i}),r.createElement(I.Zh,null,r.createElement(g.x,{paddingTop:"50px"},n))},le=i(16309),re=i(89636),oe=i(64967),de=i(14646),ue=i(43487),ce=i(77241),me=i(78870),se=i(50458),ke=i(39202),ve=i(18122),pe=i(53003),fe=function(e){return{display:"inline-block",padding:"0 2px",borderRadius:"50%",":hover":{backgroundColor:e.colorTokens.background.neutral.secondary.base}}},ge=function(e){return{fill:e.baseColor.fill.lighter,verticalAlign:"bottom",":hover":{fill:e.colorTokens.foreground.neutral.primary.hover}}},Se={border:0,padding:0,color:"inherit",fontSize:"inherit",fontFamily:"inherit",cursor:"pointer"},Ne=function(){var e=(0,de.I)();return r.createElement("span",{className:e(fe)},r.createElement(pe.Z,{className:e(ge)}))},he=function(e){var n=e.id,i=e.displayTitle,t=e.isTagFeed,a=(0,S.A)(),l=(0,de.I)(),o=(0,h.pK)(),d=(0,ue.v9)((function(e){return e.navigation.referrer})),u=(0,ue.v9)((function(e){return e.navigation.currentLocation})),c=(0,ve.g)({onPresentedFn:function(){var e={referrer:d||u,source:o};a.event("tab.presented",{tabName:n},e),t&&a.event("tag.presented",{tagSlug:n},e)},intersectionThreshold:.8}),m=r.useCallback((function(){window.scrollTo({top:0,behavior:"smooth"});var e={referrer:d||u,referrerSource:o};a.event("tab.viewed",{tabName:n},e),t&&a.event("tag.viewed",{tagSlug:n},e)}),[a,t,n,o,d,u]);return r.createElement("button",{onClick:m,ref:c,className:l(Se)},i)},Fe=(0,r.memo)((function(e){var n,i,t=e.viewer,a=e.activeFeed,l=(0,ue.v9)((function(e){return e.config.authDomain})),o=(0,H.uk)(),d=null!==(n=null==t||null===(i=t.followedTags)||void 0===i?void 0:i.tags.filter((function(e){return(0,ke.b)(e)&&e.id&&e.displayTitle})))&&void 0!==n?n:[],u=r.useMemo((function(){var e=[{text:r.createElement(he,{id:"forYou",displayTitle:"For you"}),isActive:a===Z.Recommended,href:o("ShowHome",{})},{text:r.createElement(he,{id:"following",displayTitle:"Following"}),isActive:a===Z.Following,href:(0,me.Rk)(o("ShowHome",{}),{feed:"following"})}],n={text:r.createElement(Ne,null),href:(0,me.Rk)((0,se.wn)(l),{},"suggested-topics"),marginRight:"24px"},i=d.map((function(e){return{text:r.createElement(he,{id:e.id,displayTitle:e.displayTitle,isTagFeed:!0}),isActive:a===e.id,href:(0,me.Rk)(o("ShowHome",{}),{tag:e.id})}}));return[n].concat(e,R()(i))}),[d,a]);return r.createElement(f.P,{size:"app"},r.createElement(g.x,{height:"16px"}),r.createElement(h.cW,{source:{sectionType:h.bA.HOMEPAGE_FILTERED_TAG},extendSource:!0},r.createElement(le.R,{items:u})))})),be=function(e){var n,i=(0,de.I)(),t=(0,r.useRef)(null),a=(0,re.v)(),l=a.addHeightChangeHandler,o=a.removeHeightChangeHandler;return(0,r.useEffect)((function(){var e=function(e){var n=e.currentHeight;t.current&&(t.current.style.top="".concat(n,"px"))};return l(e),function(){o(e)}}),[]),r.createElement(r.Fragment,null,r.createElement(g.x,{paddingTop:{xl:"24px",lg:"24px",md:"8px",sm:"8px",xs:"8px"}}),r.createElement("div",{className:i((n="".concat(oe.fp,"px"),function(e){return{backgroundColor:e.backgroundColor,position:"sticky",zIndex:ce.ZP.metabar-1,top:n}})),ref:t},r.createElement(Fe,e)))},ye=function(e){var n,i,t=e.viewer,a=e.loading,l=(n=(0,b.k6)(),i=(0,C.dD)(n.location.search),r.useMemo((function(){var e=i[$.DefaultFeed],n=i[$.Tag];return"following"===e?Z.Following:n||Z.Recommended}),[i])),o=function(e){var n=(0,b.k6)(),i=r.useRef("POP"===n.action),t=r.useRef(e);return e!==t.current&&(t.current=e,i.current=!1),i.current}(l);return r.createElement(x,null,!a&&r.createElement(be,{viewer:t,activeFeed:l}),r.createElement(ae,{activeFeed:l,initiallyRenderFullFeed:o}))},Ee={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HomeMainContentHeaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HomeFeedNavbar_viewer"}}]}}]}}].concat(R()([{kind:"FragmentDefinition",name:{kind:"Name",value:"HomeFeedNavbar_viewer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"followedTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}}]}}]}}]}}]))},we=function(){return(0,l.a)(Ee,{ssr:!1})},xe=function(e){var n=e.data,i=e.error,t=e.loading;(0,o.e)({data:{pageType:"li_homepage"},show:!0});var l=(0,F.O)(!1),c=a()(l,3),m=c[0],s=c[1],b=c[2];(0,u.m)(v.U,s);var y=(0,S.A)();(0,r.useEffect)((function(){y.event("homepage.viewed",{})}),[]);var E=(0,N.TW)();return i&&E.reportOnce(i),r.createElement(h.cW,{source:{name:"home"},extendSource:!0},r.createElement(d.ly,{loadingOverride:t,placeholder:r.createElement(f.P,{size:"app"},r.createElement(g.x,{paddingTop:"80px"}),r.createElement(p.u,null))},r.createElement(ye,{viewer:null==n?void 0:n.viewer,loading:t}),r.createElement(k,{isDialogVisible:m,hide:b})))},Ce=(0,r.memo)(xe)},60672:(e,n,i)=>{"use strict";i.d(n,{e:()=>s});var t=i(67294),a=i(27517),l=i(18702),r=i(25550),o=i(6443),d=i(98067),u=i(77280),c=i(43487),m=i(55765),s=function(e){var n=e.data,i=void 0===n?{}:n,s=e.isBlocked,k=void 0!==s&&s,v=e.loading,p=e.show,f=i.canonicalUrl,g=i.collectionViewerEdge,S=i.creatorViewerEdge,N=i.pageType,h=i.post,F=i.profileName,b=i.profilePhoto,y=i.profileUsername,E=i.topicViewerEdge,w=(0,a.I0)(),x=(0,r.r)(),C=x.loading,T=x.viewerId,R=(0,m.P)(),I=R.loading,P=R.inAppBrowser,D=(0,o.H)(),A=D.loading,M=D.value,_=(0,c.v9)((function(e){return e.navigation.referrer})),V=(0,u.PM)();(0,t.useEffect)((function(){if(!(v||A||C||!T||I)){var e=(0,l.RD)({collectionViewerEdge:g,creatorViewerEdge:S,currentUserId:T,inAppBrowser:P,page_type:N,post:h,profile_name:F,profile_photo:b,profile_username:y,referrer:_,referrerSource:V,viewer:M,topicViewerEdge:E});return f&&(e.data.$canonical_url=f),(0,l.Pu)(e),w((0,d.aj)(e)),p&&(w((0,d.QZ)()),w((0,d.Dl)(k))),function(){w((0,d.Uo)())}}}),[v,A,C,T,I])}},28069:(e,n,i)=>{"use strict";i.d(n,{ly:()=>u,r$:()=>c});var t=i(63038),a=i.n(t),l=i(67294),r=i(77355),o=function(){return null},d=l.createContext({increment:o,decrement:o,loading:!1}),u=function(e){var n=e.children,i=e.placeholder,t=e.loadingOverride,o=l.useState(0),u=a()(o,2),c=u[0],m=u[1],s=t||c>0,k=l.useMemo((function(){return{increment:function(){return m((function(e){return e+1}))},decrement:function(){return m((function(e){return e-1}))},loading:s}}),[s]);return l.createElement(d.Provider,{value:k},s&&i,l.createElement(r.x,{display:s?"none":void 0},n))},c=function(e){var n=l.useContext(d),i=n.increment,t=n.decrement,a=n.loading,r=l.useRef(!0);return l.useEffect((function(){e?i():r.current||t(),r.current=!1}),[e]),a}},68427:(e,n,i)=>{"use strict";i.d(n,{B:()=>o,R:()=>d});var t=i(8575),a=i(67294),l=i(43487),r=i(78870),o=function(){var e=(0,l.v9)((function(e){return e.navigation.currentLocation})),n=(0,l.v9)((function(e){return e.config.authDomain})),i=(0,r.rp)();return(0,a.useCallback)((function(a){var l=a.id,r=a.domain,o=function(e){var n=e.id,i=e.slug;return i?"/".concat(i):"/c/".concat(n)}({id:l,domain:r,slug:a.slug});if(i)return"https://".concat(n).concat(o);var d=(0,t.parse)(e).port;return r?"https://".concat(r).concat(d?":".concat(d):""):"https://".concat(n).concat(o)}),[i])},d=function(e){return o()(e)}},84683:(e,n,i)=>{"use strict";i.d(n,{d:()=>r});var t=i(319),a=i.n(t),l=i(68216),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionAvatar_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(l.nf.definitions))}},71652:(e,n,i)=>{"use strict";i.d(n,{v:()=>m});var t=i(67294),a=i(68427),l=i(14818),r=i(4381),o=i(27323),d=i(29746),u=i(46696),c=function(e){return function(n){return{borderRadius:(0,d.a)(n.borderRadius.regular),width:(0,d.a)(e),height:(0,d.a)(e)}}},m=function(e){var n=e.circular,i=e.collection,d=e.size,m=void 0===d?60:d,s=e.link,k=(0,a.R)(i);if(!i||!i.avatar||!i.avatar.id)return null;var v=i.avatar.id,p=i.name||"Publication avatar",f=n?t.createElement(l.z,{miroId:v,alt:p,diameter:m,freezeGifs:!1}):t.createElement(r.UV,{rules:[c(m)],miroId:v,alt:p,width:m,height:m,strategy:u._S.Crop});return s?t.createElement(o.P,{href:k},f):f}},1180:(e,n,i)=>{"use strict";i.d(n,{u:()=>o});var t=i(67294),a=i(77355),l=i(60600),r=function(){return t.createElement(a.x,{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",width:"100%"},t.createElement(a.x,{width:"100%"},t.createElement(a.x,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px"},t.createElement(a.x,{height:"20px",width:"20px",backgroundColor:"BASE_NORMAL",borderRadius:"10px",marginRight:"8px"}),t.createElement(a.x,{height:"8px",width:"82px",backgroundColor:"BASE_NORMAL"})),t.createElement(a.x,{width:"80%",height:"16px",marginBottom:"12px",backgroundColor:"BASE_NORMAL"}),t.createElement(a.x,{width:"65%",height:"16px",marginBottom:"12px",backgroundColor:"BASE_NORMAL"})),t.createElement(a.x,{height:"133px",width:"200px",backgroundColor:"BASE_NORMAL"}))},o=function(e){var n=e.numPlaceholders,i=void 0===n?4:n;return t.createElement(l.f,{itemPlaceholder:r,numPlaceholders:i})}},39727:(e,n,i)=>{"use strict";i.d(n,{g:()=>r});var t=i(64718),a=i(319),l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Collection_viewerEdge"}}]}}]}}]}}]}}].concat(i.n(a)()([{kind:"FragmentDefinition",name:{kind:"Name",value:"Collection_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CollectionViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canEditOwnPosts"}},{kind:"Field",name:{kind:"Name",value:"canEditPosts"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}},{kind:"Field",name:{kind:"Name",value:"isMuting"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToLetters"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToMediumNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToEmails"}},{kind:"Field",name:{kind:"Name",value:"isWriter"}}]}}]))},r=function(e){var n,i,a=(0,t.a)(l,{variables:{collectionId:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""},ssr:!1,skip:!(null!=e&&e.id)}),r=a.loading,o=a.error,d=a.data;return r?{loading:r}:o?{error:o}:{viewerEdge:null==d||null===(i=d.collection)||void 0===i?void 0:i.viewerEdge}}},25267:(e,n,i)=>{"use strict";i.d(n,{I:()=>a});var t=i(6443),a=function(e){var n=e.children,i=e.nonBlocking,a=(0,t.H)(),l=a.error,r=a.loading,o=a.value;return i&&(l||r)?n(null):r?null:n(o)}},98007:(e,n,i)=>{"use strict";i.d(n,{Os:()=>r,qU:()=>o,Vm:()=>d,GB:()=>u});var t=i(319),a=i.n(t),l=i(20121),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_collection"}}]}}].concat(a()(l.Hr.definitions))},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat(a()(l.qt.definitions))},d=([{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_topic"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_topic"}}]}}].concat(a()(l.Uh.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_user"}}]}}].concat(a()(l.Zd.definitions))}),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_newsletterV3"}}]}}].concat(a()(l.gs.definitions))};[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SusiClickableAccountTokenQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_query"}}]}}].concat(a()(l.Zz.definitions))},27048:(e,n,i)=>{"use strict";i.d(n,{W:()=>r});var t=i(319),a=i.n(t),l=i(68216),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UserAvatar_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"Field",name:{kind:"Name",value:"membership"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tier"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(a()(l.$m.definitions))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/HomePage.MainContent.410e66b8.chunk.js.map